# ダッシュボード仕様書 (Dashboard)

ダッシュボード表示と統計情報の計算仕様を定義します。

## 機能概要
- 直近 7 日間の主要な統計情報のサマリー表示。
- 最新の各記録（授乳、睡眠、おむつ）のリスト表示。
- htmx を利用した統計情報の動的更新。

## 統計計算ロジック (`StatisticsService`)
- **授乳**:
    - 直近 7 日間の合計回数。
    - 直近 7 日間の平均授乳量（ml、ミルクのみ）。
- **睡眠**:
    - 直近 7 日間の完了した睡眠記録の合計時間と平均時間。
    - ※ 継続中の睡眠（`end_time` が NULL）は合計計算に含まれない。
- **おむつ**:
    - 直近 7 日間の交換回数。
- **成長**:
    - 最新の測定記録（体重、身長、頭囲）。

## エンドポイント
- `GET /dashboard`: ダッシュボード全体
- `GET /dashboard/stats`: 統計カード部分のみ（htmx 更新用）

## 「生まれたよ！」機能 (Postnatal Switch)
プレママモード（出産予定日のみ設定）から育児モードへ切り替える機能。

### UI仕様
- **配置**: プレママ専用エリア（`prenatal_info` 表示時）内。
- **インタラクション**:
    1. 「生まれたよ！」ボタンをクリック。
    2. モーダルダイアログが表示される。
    3. 誕生日を選択（デフォルトは今日）。
    4. 「確定」ボタンをクリック。
- **完了後の挙動**: ページがリロードされ、通常の育児ダッシュボードが表示される。

### バックエンド仕様
- **エンドポイント**: `POST /babies/{baby_id}/born`
- **パラメータ**:
    - `birthday`: 日付（YYYY-MM-DD）。
- **処理**:
    - 対象の赤ちゃんの `birthday` フィールドを更新。
- **レスポンス**:
    - 成功時: ダッシュボードへリダイレクト（303 See Other）。
