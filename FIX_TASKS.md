# 修正タスクリスト (Fix Tasks)

## フェーズ 1: 重大なロジックの修正 (Completed)

- [x] **TASK-001: 統計計算サービスのバグ修正**
    - `StatisticsService.get_sleep_stats` で継続中の睡眠を考慮するよう修正。 (完了)
    - `ContractionService.get_statistics` で現在進行中の陣痛を考慮するよう修正。 (完了)
- [x] **TASK-002: ユニットテストの拡充**
    - `StatisticsService` および `ContractionService` のテストコードを作成し、計算ロジックの正確性を担保する。 (完了)

## フェーズ 2: バリデーションと堅牢性の向上 (Medium Priority)

- [x] **TASK-003: Pydantic スキーマによる Form バリデーションの統一**
    - 各ルーターの `POST` / `PATCH` エンドポイントを、Pydantic モデルを使用したバリデーションに移行する。 (主要なものは完了)
- [x] **TASK-004: 削除確認機能の実装**
    - 全ての削除ボタンに `hx-confirm` を追加し、誤削除を防止する。 (完了)

## フェーズ 3: UX/UI の改善 (Completed)

- [x] **TASK-005: htmx エラーハンドリングとトースト通知の導入**
    - エラー発生時に適切なメッセージをトーストで表示する仕組みをフロントエンドとバックエンドに導入する。 (完了)
- [x] **TASK-006: ローディングインジケーターの追加**
    - 全体的なローディングオーバーレイ（哺乳瓶アニメーション）を導入。 (完了)
